# NeuraOps Core API Environment Configuration
# Copy this file to .env and configure for your environment

# ====================================
# OLLAMA CONFIGURATION
# ====================================
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_MODEL=gpt-oss:20b
OLLAMA_TIMEOUT=300
OLLAMA_MAX_TOKENS=4096
OLLAMA_TEMPERATURE=0.1
OLLAMA_NUM_PARALLEL=1
OLLAMA_NUM_CTX=4096

# ====================================
# API CONFIGURATION
# ====================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
LOG_LEVEL=INFO
DEBUG=false

# ====================================
# SECURITY CONFIGURATION
# ====================================
# IMPORTANT: Change these in production!

# JWT Authentication (New implementation)
NEURAOPS_JWT_SECRET=your-super-secure-jwt-secret-key-here-32-chars-minimum
JWT_SECRET=your-super-secure-jwt-secret-key-here-32-chars-minimum

# API Configuration
API_KEY=your-api-key-here
NEURAOPS_CORS_ORIGINS=*
CORS_ORIGINS=*

# Security Settings (Updated naming convention)
SECURITY_ENABLE_SAFETY_CHECKS=true
SECURITY_AUTO_APPROVE_SAFE=false
SECURITY_REQUIRE_CONFIRMATION_DANGEROUS=true
SECURITY_AUDIT_ENABLED=true
SECURITY_VALIDATION_ENABLED=true
SECURITY_WHITELIST_ENABLED=false
SECURITY_AGENT_MASTER_KEY=your-agent-master-key-here
SECURITY_ALLOWED_API_KEYS=key1,key2,key3

# Legacy compatibility
ENABLE_SAFETY_CHECKS=true
AUDIT_LOGGING=true
COMMAND_WHITELIST_ENABLED=true
SECURITY_VALIDATION_ENABLED=true

# ====================================
# DATABASE CONFIGURATION
# ====================================
# PostgreSQL Password (change in production)
DB_PASSWORD=your-secure-database-password-here
# Connection URLs are set in docker-compose.yml

# ====================================
# CACHE CONFIGURATION
# ====================================
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_MAX_ENTRIES=1000
# Redis memory limit is set in docker-compose.yml

# ====================================
# AGENT CONFIGURATION
# ====================================
MAX_AGENTS=100
AGENT_TIMEOUT=60
AGENT_HEARTBEAT_INTERVAL=30

# ====================================
# RATE LIMITING
# ====================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# ====================================
# MONITORING & PERFORMANCE
# ====================================
PROMETHEUS_ENABLED=false
METRICS_PORT=9090
MAX_CONCURRENT_REQUESTS=5
REQUEST_TIMEOUT=300
MEMORY_LIMIT_GB=2

# ====================================
# PATHS & STORAGE
# ====================================
KNOWLEDGE_BASE_PATH=./data/knowledge_base
EMBEDDINGS_CACHE_PATH=./data/embeddings
DATA_DIR=/app/data
LOGS_DIR=/app/logs

# ====================================
# NEURAOPS CORE CONFIGURATION
# ====================================
# Main NeuraOps configuration
NEURAOPS_LOG_LEVEL=INFO
NEURAOPS_DEBUG=false
NEURAOPS_DATA_DIR=/app/data
NEURAOPS_DATABASE_URL=postgresql://neuraops:your-secure-database-password-here@neuraops-postgres:5432/neuraops
NEURAOPS_REDIS_URL=redis://neuraops-redis:6379
NEURAOPS_CORE_API_URL=http://neuraops-core:8000

# ====================================
# UI INTEGRATION VARIABLES
# ====================================
# These match the neuraops-ui .env.example structure
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=NeuraOps
NEXT_PUBLIC_APP_VERSION=0.0.1
NEXT_PUBLIC_API_URL=http://neuraops-core:8000

# ====================================
# AUTHENTICATION & JWT
# ====================================
# Default admin credentials for development (CHANGE IN PRODUCTION)
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_PASSWORD=your-secure-admin-password
JWT_EXPIRY_HOURS=24
JWT_ALGORITHM=HS256
